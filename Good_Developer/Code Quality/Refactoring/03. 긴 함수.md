# 3. 긴 함수
- `의미`가 아닌 `구현`을 읽어야 하는 함수는 짧더라도 '긴 함수'로 간주해도 좋다.
- 작은 함수에 좋은 이름을 사용하면, 코드를 보지 않고도 이해할 수 있다.

### 사용할 수 있는 리팩토링 기술
- 대부분 **함수 추출하기**로 해결할 수 있다.
- 함수로 전달해야 할 매개변수가 많아진다면,
  - **임시 변수를 질의 함수로 바꾸기**
  - **매개변수 객체 만들기**
  - **객체 통째로 넘기기**
- **조건문 분해하기**를 사용해 조건문 분리
- 같은 조건으로 여러 `Switch`문이 있다면, **조건문을 다형성으로 바꾸기**
- 반복문 안에서 여러 작업을 하고 있어 하나의 메소드로 추출하기 어렵다면, **반복문 쪼개기**

</br>

### 임시 변수를 질의 함수로 바꾸기
- 기존 파라미터들로 파악할 수 있는 것이라면, 임시 변수를 쿼리(메서드)를 호출하는 것으로 변경한다.

</br>

### 매개변수 객체 만들기
- 비슷한 매개변수들이 여기저기 자주 넘겨진다면, 그것들을 묶는다.
- 매개변수의 수가 줄어들고, 관계를 명시적으로 나타낼 수 있다.
- `Recfctor > Introduce Parameter Object`

</br>

### 객체 통째로 넘기기
- `매개변수 객체 만들기`는 파라미터를 모은 객체를 새로 만드는 것이고, `객체 통째로 넘기기`는 이미 존재하는 파라미터 모음 객체에 파라미터를 합치는 것이다.
- 의존성을 고려해야 한다.
- 통째로 넘겼을 때 다른 도메인에 적용하는 것에 대해 고민 해 보아야 함.('이 메서드는 여기 있는게 맞는가?')

</br>

### 함수를 명령으로 바꾸기
- Command로 빼냄으로써 얻는 장점이 있지만, 복잡도가 올라갈 수 있다.

</br>

### 조건문 분해하기
- '조건'과 '액션' 모두 `의도`를 표현해야 한다.

</br>

### 반복문 쪼개기
- 하나의 반복문에서 보통 여러 작업이 있다.
- 가능하면(성능 이슈가 없다면) 반복문을 쪼개는게 좋다.
- 리팩토링은 성능 최적화와 별개이므로 리팩토링을 마친 후 성능 최적화를 시도할 수 있다.

</br>

### 조건문을 다형성으로 바꾸기
- 어떠한 타입에 대해 `switch` 문이 반복해서 등장할 수 있다.
- 공통 로직은 상위 클래스에 두고 달라지는 부분만 하위 클래스에 둠으로써 달라지는 부분만 강조할 수 있다.
- 단, 모든 케이스에 대해서 사용하는게 맞는게 아니다.(고려하여 사용)
